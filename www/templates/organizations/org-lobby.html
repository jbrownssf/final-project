<ion-view view-title="{{openOrganizations.name}}">
    <!-- Include ion-nav-buttons in every index to avoid breaking the app (ionic material bug) -->
    <ion-nav-buttons></ion-nav-buttons>
    <!--<ion-nav-buttons side="right">-->
    <!--    <button class="button button-icon icon ion-plus-round button-clear" ng-click="newSchedule()">-->

    <!--    </button>-->
    <!--</ion-nav-buttons>-->
    <ion-nav-buttons side="left">
        <button class="button button-icon icon button-clear ion-ios-home" ng-click="goHome()">

        </button>
    </ion-nav-buttons>
    <ion-nav-buttons side="right">
        <button class="button button-icon icon button-clear" ng-class="canEdit ? 'ion-ios-people' : 'ion-person'" ng-click="canEdit ? openMembers() : openMember()">

        </button>
    </ion-nav-buttons>
    <ion-content>
        <div class="row" style="width: 67%; margin-left: auto; margin-right: auto;">
            <button class="col button button-full button-small" ng-class="currentView === 0 ? 'button-dark' : 'button-stable button-outline'" ng-click="canEdit ? setView(0) : ''">{{canEdit ? 'Drafts' : ''}}</button>
            <button class="col button button-full button-small" ng-class="currentView === 1 ? 'button-dark' : 'button-stable button-outline'" ng-click="setView(1)">Posts</button>
            <button class="col button button-full button-small" ng-class="currentView === 2 ? 'button-dark' : 'button-stable button-outline'" ng-click="canEdit ? newSchedule() : ''">{{canEdit ? 'Create' : ''}}</button>
        </div>
        <ion-list can-swipe="listCanSwipe">
            <ion-item ng-if="currentView === 1" ng-repeat="schedule in schedules | orderBy: 'assignedDate'" ng-click="gotoSched(schedule)" ng-show="schedule.state === (currentView === 1 ?  'published' : 'draft')">
                {{schedule.assignedDate | date: 'EEEE, MMMM d, y'}}
                <ion-option-button class="button-assertive" ng-click="delete(schedule, $index)">
                    Delete
                </ion-option-button>
                <ion-option-button class="button-dark ssf-button-inverted" ng-click="clone(schedule)">
                    Clone
                </ion-option-button>
                <ion-option-button class="button-positive ssf-button" ng-click="publish(schedule)">
                    {{schedule.state == 'published' ? 'Unpublish' : 'Publish'}}
                </ion-option-button>
            </ion-item>
            <ion-item ng-if="canEdit && currentView === 0" ng-repeat="schedule in schedules | orderBy: 'assignedDate'" ng-click="gotoSched(schedule)" ng-show="schedule.state !== 'published'" ng-if="canEdit">
                {{schedule.assignedDate | date: 'EEEE, MMMM d, y'}}
                <ion-option-button class="button-assertive" ng-click="delete(schedule)">
                    Delete
                </ion-option-button>
                <ion-option-button class="button-dark ssf-button-inverted" ng-click="clone(schedule)">
                    Clone
                </ion-option-button>
                <ion-option-button class="button-positive ssf-button" ng-click="publish(schedule)">
                    {{schedule.state == 'published' ? 'Unpublish' : 'Publish'}}
                </ion-option-button>
            </ion-item>
        </ion-list>
    </ion-content>
</ion-view>